{"version":3,"file":"tema.js","sourceRoot":"","sources":["../../../src/interface/tema.ts"],"names":[],"mappings":"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","sourcesContent":["/* ============================\n   Controle de Tema (Claro/Escuro)\n   - Lê e persiste preferência no localStorage\n   - Sincroniza com a preferência do sistema (prefers-color-scheme)\n   - Inicializa o toggle de tema e mantém estado consistente\n============================ */\n\n/**\n * @summary Chave única usada para armazenar o tema atual no localStorage.\n */\nconst CHAVE_ARMAZENAMENTO = \"tema-cnpj-bade-digital\" as const;\n\ntype TemaPreferido = \"light\" | \"dark\";\n\n/**\n * @summary Verifica se um valor é um tema válido (\"light\" ou \"dark\").\n */\nconst ehTemaValido = (valor: string | null): valor is TemaPreferido =>\n  valor === \"light\" || valor === \"dark\";\n\n/**\n * @summary Obtém o tema armazenado no localStorage, se existir.\n * @returns O tema armazenado (\"light\" ou \"dark\") ou null se não houver.\n */\nexport const obterPreferenciaArmazenada = (): TemaPreferido | null => {\n  const tema = localStorage.getItem(CHAVE_ARMAZENAMENTO);\n  return ehTemaValido(tema) ? tema : null;\n};\n\n/**\n * @summary Verifica se há uma preferência de tema salva no localStorage.\n */\nconst possuiPreferenciaArmazenada = (): boolean => {\n  const tema = localStorage.getItem(CHAVE_ARMAZENAMENTO);\n  return ehTemaValido(tema);\n};\n\n/**\n * @summary Aplica o tema (dark ou light) ao documento e salva no localStorage, se desejado.\n * @param tema Tema a ser aplicado.\n * @param persistir Define se o tema deve ser salvo no localStorage.\n */\nconst aplicarTema = (tema: TemaPreferido, persistir: boolean): void => {\n  document.documentElement.classList.toggle(\"dark\", tema === \"dark\");\n  if (persistir) localStorage.setItem(CHAVE_ARMAZENAMENTO, tema);\n};\n\n/**\n * @summary Identifica a preferência atual do usuário (armazenada ou do sistema) e aplica o tema.\n */\nexport function identificaPreferenciaEAplicaTema(): void {\n  const temaArmazenado = obterPreferenciaArmazenada();\n\n  const prefereEscuro = window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\n  const temaSelecionado: TemaPreferido = temaArmazenado ?? (prefereEscuro ? \"dark\" : \"light\");\n\n  aplicarTema(temaSelecionado, !!temaArmazenado);\n}\n\n/**\n * @summary Inicializa o controle do alternador de tema e sincroniza com o sistema.\n * Configura eventos para alternar o tema manualmente e reagir a mudanças no sistema.\n */\nconst inicializarControleTema = (): void => {\n  const controleTema = document.getElementById(\"alternar-tema\") as HTMLInputElement | null;\n  if (!controleTema) return;\n\n  const preferenciaSistema = window.matchMedia(\"(prefers-color-scheme: dark)\");\n  const temaArmazenado = obterPreferenciaArmazenada();\n  const temaInicial: TemaPreferido =\n    temaArmazenado ?? (preferenciaSistema.matches ? \"dark\" : \"light\");\n\n  aplicarTema(temaInicial, !!temaArmazenado);\n  controleTema.checked = temaInicial === \"dark\";\n\n  controleTema.addEventListener(\"change\", () => {\n    const novoTema: TemaPreferido = controleTema.checked ? \"dark\" : \"light\";\n    aplicarTema(novoTema, true);\n  });\n\n  preferenciaSistema.addEventListener(\"change\", (evento: MediaQueryListEvent) => {\n    if (possuiPreferenciaArmazenada()) return;\n\n    const novoTema: TemaPreferido = evento.matches ? \"dark\" : \"light\";\n    aplicarTema(novoTema, false);\n    controleTema.checked = novoTema === \"dark\";\n  });\n};\n\n/**\n * @summary Executa a inicialização do controle de tema quando o DOM estiver carregado.\n */\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  inicializarControleTema();\n});\n\nexport {};\n"]}