{"version":3,"file":"consulta-dados-cnpj.js","sourceRoot":"","sources":["../../../src/cnpj/consulta-dados-cnpj.ts"],"names":[],"mappings":"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","sourcesContent":["/* ============================\r\n   Validador de CNPJ via OpenCNPJ\r\n   - Integração para consulta pública de dados cadastrais\r\n   - Validação individual e em massa com histórico persistente\r\n   - Exibição detalhada dos dados consultados em modal\r\n============================ */\r\n\r\nimport { TipoAviso } from \"../gerais/enums.js\";\r\nimport { htmlCookies, inicializarAvisoDeCookies } from \"../gerais/cookies.js\";\r\nimport { aplicarMascara, aplicarMascaraProgressiva, normalizarPuro } from \"./formatacao-cnpj.js\";\r\nimport { inicializarEfeitoOnda } from \"../gerais/uteis.js\";\r\nimport { exibirAviso } from \"../gerais/mensageria.js\";\r\nimport { atualizarContadorHistorico } from \"../interface/contador-historico.js\";\r\n\r\nconst URL_BASE_OPEN_CNPJ = \"https://api.opencnpj.org\";\r\n\r\n/**\r\n * @summary Estrutura básica de um endereço cadastral retornado pela API.\r\n */\r\ninterface EnderecoCnpj {\r\n    logradouro?: string;\r\n    numero?: string;\r\n    complemento?: string;\r\n    bairro?: string;\r\n    municipio?: string;\r\n    uf?: string;\r\n    cep?: string;\r\n}\r\n\r\n/**\r\n * @summary Representa uma atividade econômica do CNPJ consultado.\r\n */\r\ninterface AtividadeCnpj {\r\n    codigo?: string;\r\n    descricao?: string;\r\n}\r\n\r\n/**\r\n * @summary Representa um sócio ou responsável vinculado ao CNPJ.\r\n */\r\ninterface SocioCnpj {\r\n    nome?: string;\r\n    qualificacao?: string;\r\n    tipo?: string;\r\n    pais?: string;\r\n    entrada?: string;\r\n}\r\n\r\n/**\r\n * @summary Conjunto completo de dados normalizados da consulta ao OpenCNPJ.\r\n */\r\nexport interface DadosCnpj {\r\n    cnpj: string;\r\n    nomeEmpresarial?: string;\r\n    nomeFantasia?: string;\r\n    situacaoCadastral?: string;\r\n    dataSituacaoCadastral?: string;\r\n    naturezaJuridica?: string;\r\n    capitalSocial?: number;\r\n    porte?: string;\r\n    telefone?: string;\r\n    email?: string;\r\n    endereco?: EnderecoCnpj | null;\r\n    atividadePrincipal?: AtividadeCnpj | null;\r\n    atividadesSecundarias?: AtividadeCnpj[];\r\n    socios?: SocioCnpj[];\r\n    dadosOriginais: Record<string, unknown>;\r\n}\r\n\r\n/**\r\n * @summary Estrutura do resultado das validações utilizando a API pública.\r\n */\r\nexport interface ResultadoValidacaoApi {\r\n    puro: string;\r\n    valido: boolean;\r\n    mensagem: string;\r\n    statusHttp: number;\r\n    dados: DadosCnpj | null;\r\n    carregando?: boolean;\r\n    mensagemComplementar?: string;\r\n}\r\n\r\n/**\r\n * @summary Estrutura com os elementos necessários para controle de interface.\r\n */\r\ninterface ElementosValidador {\r\n    campoUnico: HTMLInputElement;\r\n    campoMassa: HTMLTextAreaElement;\r\n    controleMascara: HTMLInputElement;\r\n    controleMassa: HTMLInputElement;\r\n    botaoValidarUnico: HTMLButtonElement;\r\n    botaoValidarMassa: HTMLButtonElement;\r\n    listaHistorico: HTMLUListElement;\r\n    areaAviso: HTMLDivElement;\r\n    botaoColar: HTMLButtonElement;\r\n    modalOverlay: HTMLDivElement;\r\n    modalConteudo: HTMLDivElement;\r\n    modalTitulo: HTMLHeadingElement;\r\n    botaoFecharModal: HTMLButtonElement;\r\n    modalCaixa: HTMLDivElement;\r\n}\r\n\r\n/**\r\n * @summary Erro especializado que transporta o status HTTP retornado pela API.\r\n */\r\nclass ErroOpenCnpjApi extends Error {\r\n    public readonly statusHttp: number;\r\n\r\n    public constructor(statusHttp: number, mensagem: string) {\r\n        super(mensagem);\r\n        this.statusHttp = statusHttp;\r\n        this.name = \"ErroOpenCnpjApi\";\r\n    }\r\n}\r\n\r\n/**\r\n * @summary Consulta a API do OpenCNPJ e retorna os dados normalizados do CNPJ informado.\r\n */\r\nexport async function buscarDadosCnpj(cnpj: string): Promise<DadosCnpj | null> {\r\n    const puro = normalizarPuro(cnpj);\r\n    if (puro.length !== 14) {\r\n        throw new ErroOpenCnpjApi(400, \"CNPJ deve conter 14 caracteres válidos para consulta.\");\r\n    }\r\n\r\n    let resposta: Response;\r\n    try {\r\n        resposta = await fetch(`${URL_BASE_OPEN_CNPJ}/${puro}`, {\r\n            headers: {\r\n                Accept: \"application/json\",\r\n            },\r\n        });\r\n    } catch {\r\n        throw new ErroOpenCnpjApi(0, \"Falha de comunicação com o serviço do OpenCNPJ.\");\r\n    }\r\n\r\n    if (resposta.status === 404) {\r\n        return null;\r\n    }\r\n\r\n    if (resposta.status === 429) {\r\n        throw new ErroOpenCnpjApi(\r\n            429,\r\n            \"Limite de consultas do OpenCNPJ atingido. Aguarde alguns instantes e tente novamente.\",\r\n        );\r\n    }\r\n\r\n    if (!resposta.ok) {\r\n        throw new ErroOpenCnpjApi(\r\n            resposta.status,\r\n            \"Não foi possível consultar o CNPJ na API do OpenCNPJ.\",\r\n        );\r\n    }\r\n\r\n    const dados = await resposta.json();\r\n    return normalizarDadosOpenCnpj(dados, puro);\r\n}\r\n\r\n/**\r\n * @summary Realiza a validação de um único CNPJ via OpenCNPJ e retorna o resultado detalhado.\r\n */\r\nexport async function validarCnpjIndividual(cnpj: string): Promise<ResultadoValidacaoApi> {\r\n    const puro = normalizarPuro(cnpj);\r\n    if (puro.length !== 14) {\r\n        return {\r\n            puro,\r\n            valido: false,\r\n            mensagem: \"Insira os 14 caracteres antes da consulta.\",\r\n            statusHttp: 400,\r\n            dados: null,\r\n        };\r\n    }\r\n\r\n    try {\r\n        const dados = await buscarDadosCnpj(puro);\r\n        if (!dados) {\r\n            return {\r\n                puro,\r\n                valido: false,\r\n                mensagem: `CNPJ não encontrado na base pública da Receita Federal, consultando via OpenCNPJ. `,\r\n                mensagemComplementar: `Para confirmar, consulte diretamente no <a href=\"https://www.gov.br/pt-br/servicos/consultar-cadastro-nacional-de-pessoas-juridicas\" target=\"_blank\" class=\"underline underline-offset-4 decoration-2 !decoration-violet-500\" rel=\"noopener noreferrer\">Gov.br</a>.`,\r\n                statusHttp: 404,\r\n                dados: null,\r\n            };\r\n        }\r\n\r\n        return {\r\n            puro: dados.cnpj ?? puro,\r\n            valido: true,\r\n            mensagem: \"Dados do CNPJ localizados com sucesso.\",\r\n            statusHttp: 200,\r\n            dados,\r\n        };\r\n    } catch (erro) {\r\n        if (erro instanceof ErroOpenCnpjApi) {\r\n            return {\r\n                puro,\r\n                valido: false,\r\n                mensagem: erro.message,\r\n                statusHttp: erro.statusHttp,\r\n                dados: null,\r\n            };\r\n        }\r\n\r\n        return {\r\n            puro,\r\n            valido: false,\r\n            mensagem: \"Ocorreu um erro inesperado ao consultar o OpenCNPJ.\",\r\n            statusHttp: 0,\r\n            dados: null,\r\n        };\r\n    }\r\n}\r\n\r\n/**\r\n * @summary Valida uma lista de CNPJs sequencialmente e devolve os resultados acumulados.\r\n */\r\nexport async function validarCnpjsEmMassa(listaCnpjs: string[]): Promise<ResultadoValidacaoApi[]> {\r\n    const resultados: ResultadoValidacaoApi[] = [];\r\n    for (const item of listaCnpjs) {\r\n        const resultado = await validarCnpjIndividual(item);\r\n        resultados.push(resultado);\r\n    }\r\n    return resultados;\r\n}\r\n\r\n/**\r\n * @summary Normaliza e estrutura os dados recebidos do OpenCNPJ para consumo interno.\r\n */\r\nfunction normalizarDadosOpenCnpj(registro: Record<string, unknown>, puro: string): DadosCnpj {\r\n    const str = (v: unknown): string | undefined =>\r\n        typeof v === \"string\" && v.trim() ? v.trim() : undefined;\r\n\r\n    const num = (v: unknown): number | undefined => {\r\n        if (typeof v === \"number\") return v;\r\n        if (typeof v === \"string\") {\r\n            const n = parseFloat(v.replace(/\\./g, \"\").replace(\",\", \".\"));\r\n            return isFinite(n) ? n : undefined;\r\n        }\r\n        return undefined;\r\n    };\r\n\r\n    const telefones =\r\n        Array.isArray(registro.telefones) && registro.telefones.length\r\n            ? registro.telefones\r\n                .map((t: any) =>\r\n                    t && typeof t === \"object\" && t.ddd && t.numero ? `(${t.ddd}) ${t.numero}` : undefined,\r\n                )\r\n                .filter(Boolean)\r\n                .join(\" / \")\r\n            : undefined;\r\n\r\n    const socios =\r\n        Array.isArray(registro.QSA) && registro.QSA.length\r\n            ? (registro.QSA as any[]).map((s) => ({\r\n                nome: str(s.nome_socio),\r\n                qualificacao: str(s.qualificacao_socio),\r\n                tipo: str(s.identificador_socio),\r\n                pais: undefined,\r\n                entrada: str(s.data_entrada_sociedade),\r\n            }))\r\n            : [];\r\n\r\n    return {\r\n        cnpj: normalizarPuro(str(registro.cnpj) ?? puro),\r\n        nomeEmpresarial: str(registro.razao_social),\r\n        nomeFantasia: str(registro.nome_fantasia),\r\n        situacaoCadastral: str(registro.situacao_cadastral),\r\n        dataSituacaoCadastral: str(registro.data_situacao_cadastral),\r\n        naturezaJuridica: str(registro.natureza_juridica),\r\n        capitalSocial: num(registro.capital_social),\r\n        porte: str(registro.porte_empresa),\r\n        telefone: telefones,\r\n        email: str(registro.email),\r\n        endereco: {\r\n            logradouro: str(registro.logradouro),\r\n            numero: str(registro.numero),\r\n            complemento: str(registro.complemento),\r\n            bairro: str(registro.bairro),\r\n            municipio: str(registro.municipio),\r\n            uf: str(registro.uf),\r\n            cep: str(registro.cep),\r\n        },\r\n        atividadePrincipal: str(registro.cnae_principal)\r\n            ? { codigo: str(registro.cnae_principal)!, descricao: undefined }\r\n            : null,\r\n        atividadesSecundarias: Array.isArray(registro.cnaes_secundarios)\r\n            ? registro.cnaes_secundarios.map((c: any) => ({ codigo: String(c) }))\r\n            : [],\r\n        socios,\r\n        dadosOriginais: registro,\r\n    };\r\n}\r\n\r\n/**\r\n * @summary Escapa caracteres especiais para exibição segura em HTML.\r\n */\r\nfunction escaparHtml(texto: string): string {\r\n    return texto\r\n        .replace(/&/g, \"&amp;\")\r\n        .replace(/</g, \"&lt;\")\r\n        .replace(/>/g, \"&gt;\")\r\n        .replace(/\"/g, \"&quot;\")\r\n        .replace(/'/g, \"&#39;\");\r\n}\r\n\r\n/**\r\n * @summary Classe responsável por integrar a interface com a API OpenCNPJ.\r\n */\r\nclass ValidadorCnpjApi {\r\n    [x: string]: any;\r\n    private readonly historico: ResultadoValidacaoApi[] = [];\r\n    private readonly limiteHistorico = 100;\r\n    private readonly formatando = { unico: false, massa: false };\r\n    private timeoutAviso: number | undefined;\r\n    private elementoFocoAnterior: HTMLElement | null = null;\r\n    private readonly escutarTeclaEscape: (evento: KeyboardEvent) => void;\r\n\r\n    /**\r\n     * @summary Inicializa o validador com os elementos de interface e configurações necessárias.\r\n     */\r\n    public constructor(private readonly elementos: ElementosValidador) {\r\n        this.configurarEventos();\r\n        this.configurarPlaceholderMascara();\r\n        this.configurarEntradaCnpj();\r\n        this.configurarEntradaCNPJMassa();\r\n        this.alternarModoMassa(false);\r\n        this.atualizarEstadoBotaoValidarUnico();\r\n        inicializarEfeitoOnda();\r\n\r\n        this.escutarTeclaEscape = (evento: KeyboardEvent) => {\r\n            if (evento.key === \"Escape\") {\r\n                this.fecharModal();\r\n            }\r\n        };\r\n    }\r\n\r\n    /**\r\n     * @summary Registra os manipuladores de eventos dos elementos principais da interface.\r\n     */\r\n    private configurarEventos(): void {\r\n        const {\r\n            botaoValidarUnico,\r\n            botaoValidarMassa,\r\n            controleMascara,\r\n            controleMassa,\r\n            botaoColar,\r\n            modalOverlay,\r\n            botaoFecharModal,\r\n        } = this.elementos;\r\n\r\n        botaoValidarUnico.addEventListener(\"click\", () => {\r\n            void this.validarUnico();\r\n        });\r\n\r\n        botaoValidarMassa.addEventListener(\"click\", () => {\r\n            void this.validarEmMassa();\r\n        });\r\n\r\n        controleMascara.addEventListener(\"change\", () => {\r\n            this.renderizarHistorico();\r\n        });\r\n\r\n        controleMassa.addEventListener(\"change\", () => {\r\n            this.alternarModoMassa(controleMassa.checked);\r\n            if (!controleMassa.checked) {\r\n                this.atualizarEstadoBotaoValidarUnico();\r\n            }\r\n        });\r\n\r\n        botaoColar.addEventListener(\"click\", () => {\r\n            void this.colarDoClipboard();\r\n        });\r\n\r\n        modalOverlay.addEventListener(\"click\", (evento) => {\r\n            if (evento.target === modalOverlay) {\r\n                this.fecharModal();\r\n            }\r\n        });\r\n\r\n        botaoFecharModal.addEventListener(\"click\", () => {\r\n            this.fecharModal();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * @summary Alterna entre validação unitária e em massa com animação suave.\r\n     */\r\n    private alternarModoMassa(ativo: boolean): void {\r\n        const { campoUnico, campoMassa, botaoValidarUnico, botaoValidarMassa, botaoColar } =\r\n            this.elementos;\r\n\r\n        this.animarAlturaSincronizada(() => {\r\n            campoUnico.classList.toggle(\"hidden\", ativo);\r\n            campoMassa.classList.toggle(\"hidden\", !ativo);\r\n            botaoValidarUnico.classList.toggle(\"hidden\", ativo);\r\n            botaoValidarMassa.classList.toggle(\"hidden\", !ativo);\r\n            botaoColar.classList.toggle(\"hidden\", ativo);\r\n\r\n            if (ativo) {\r\n                campoMassa.value = \"\";\r\n            }\r\n        });\r\n\r\n        if (ativo) {\r\n            campoMassa.focus();\r\n        } else {\r\n            campoUnico.focus();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @summary Cola conteúdo da área de transferência no campo de consulta única,\r\n     * aplicando máscara conforme o toggle ativo.\r\n     */\r\n    private async colarDoClipboard(): Promise<void> {\r\n        try {\r\n            const textoBruto = (await navigator.clipboard.readText()).trim();\r\n\r\n            if (!textoBruto) {\r\n                exibirAviso(\r\n                    this.elementos.areaAviso,\r\n                    \"Nenhum conteúdo disponível para colar\",\r\n                    TipoAviso.Info,\r\n                );\r\n                return;\r\n            }\r\n\r\n            const puro = normalizarPuro(textoBruto);\r\n\r\n            if (!puro || puro.length === 0) {\r\n                this.exibirAviso(\"Conteúdo inválido para colar\", TipoAviso.Erro);\r\n                return;\r\n            }\r\n\r\n            const limitado = puro.slice(0, 14);\r\n\r\n            const usarMascara = this.elementos.controleMascara.checked;\r\n            const exibicao = usarMascara ? aplicarMascaraProgressiva(limitado) : limitado;\r\n\r\n            this.elementos.campoUnico.value = exibicao;\r\n            this.atualizarEstadoBotaoValidarUnico();\r\n\r\n            exibirAviso(\r\n                this.elementos.areaAviso,\r\n                `Conteúdo colado: ${exibicao}`,\r\n                TipoAviso.InfoAlternativo,\r\n            );\r\n        } catch {\r\n            this.exibirAviso(\"Não foi possível acessar a área de transferência\", TipoAviso.Erro);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @summary Abre o modal de detalhes com base no valor atual do campo único.\r\n     * Se o CNPJ ainda não foi consultado, exibe um aviso orientando a consulta.\r\n     */\r\n    private abrirDetalhesDoCampoAtual(): void {\r\n        const { campoUnico } = this.elementos;\r\n        const valor = campoUnico.value.trim();\r\n\r\n        if (!valor) {\r\n            this.exibirAviso(\"Informe um CNPJ para ver os detalhes\", TipoAviso.Info);\r\n            return;\r\n        }\r\n\r\n        const puro = normalizarPuro(valor);\r\n        if (puro.length < 14) {\r\n            this.exibirAviso(\"Insira os 14 caracteres antes de ver os dados\", TipoAviso.Info);\r\n            return;\r\n        }\r\n\r\n        const item = this.historico.find((h) => h.puro === puro);\r\n        if (!item) {\r\n            this.exibirAviso(\"Consulte o CNPJ primeiro para ver os detalhes\", TipoAviso.Info);\r\n            return;\r\n        }\r\n\r\n        this.exibirModalCnpj(item);\r\n    }\r\n\r\n    /**\r\n     * @summary Consulta um único CNPJ na API, atualiza o histórico e exibe mensagens ao usuário.\r\n     */\r\n    private async validarUnico(): Promise<void> {\r\n        const valor = this.elementos.campoUnico.value.trim();\r\n        if (!valor) {\r\n            exibirAviso(this.elementos.areaAviso, \"Informe um CNPJ para validar\", TipoAviso.Erro);\r\n            return;\r\n        }\r\n\r\n        const puro = normalizarPuro(valor);\r\n        if (puro.length < 14) {\r\n            exibirAviso(\r\n                this.elementos.areaAviso,\r\n                \"Insira os 14 caracteres antes da consulta\",\r\n                TipoAviso.Info,\r\n            );\r\n            return;\r\n        }\r\n        const usarMascara = this.elementos.controleMascara.checked;\r\n        const exibicao = usarMascara ? aplicarMascara(puro) : puro;\r\n        this.exibirAviso(`Iniciando validação do CNPJ ${exibicao}`, TipoAviso.InfoAlternativo);\r\n        const placeholder: ResultadoValidacaoApi = {\r\n            puro,\r\n            valido: false,\r\n            mensagem: \"Buscando dados...\",\r\n            statusHttp: 0,\r\n            dados: null,\r\n            carregando: true,\r\n        };\r\n        this.adicionarAoHistorico(placeholder);\r\n        this.renderizarHistorico();\r\n        this.exibirAviso(\"Consultando OpenCNPJ...\", TipoAviso.Info);\r\n\r\n        const resultado = await validarCnpjIndividual(valor);\r\n\r\n        const indice = this.historico.findIndex(\r\n            (h) => h.puro === resultado.puro && (h as ResultadoValidacaoApi).carregando === true,\r\n        );\r\n        if (indice >= 0) {\r\n            this.historico[indice] = resultado;\r\n        } else {\r\n            this.adicionarAoHistorico(resultado);\r\n        }\r\n        this.renderizarHistorico();\r\n        this.notificarResultado(resultado);\r\n    }\r\n\r\n    /**\r\n     * @summary Realiza a consulta em massa de CNPJs, respeitando o limite e atualizando o histórico.\r\n     */\r\n    private async validarEmMassa(): Promise<void> {\r\n        const valor = this.elementos.campoMassa.value.trim();\r\n        if (!valor) {\r\n            exibirAviso(\r\n                this.elementos.areaAviso,\r\n                \"Informe ao menos um CNPJ para validar\",\r\n                TipoAviso.Info,\r\n            );\r\n            return;\r\n        }\r\n\r\n        const entradas = valor\r\n            .split(/[;,]/)\r\n            .map((parte) => parte.trim())\r\n            .filter((parte) => parte.length > 0);\r\n\r\n        if (entradas.length === 0) {\r\n            exibirAviso(\r\n                this.elementos.areaAviso,\r\n                \"Informe ao menos um CNPJ para validar\",\r\n                TipoAviso.Info,\r\n            );\r\n            return;\r\n        }\r\n\r\n        if (entradas.length > 100) {\r\n            exibirAviso(this.elementos.areaAviso, \"Limite de 100 CNPJs por validação\", TipoAviso.Erro);\r\n            return;\r\n        }\r\n        this.exibirAviso(`Iniciando validação de ${entradas.length} CNPJs`, TipoAviso.InfoAlternativo);\r\n\r\n        const puros = entradas.map((parte) => normalizarPuro(parte));\r\n\r\n        for (const puro of [...puros].reverse()) {\r\n            if (!puro) continue;\r\n            const placeholder: ResultadoValidacaoApi = {\r\n                puro,\r\n                valido: false,\r\n                mensagem: \"Consultando no OpenCNPJ...\",\r\n                statusHttp: 0,\r\n                dados: null,\r\n                carregando: true,\r\n            };\r\n            this.adicionarAoHistorico(placeholder); // continua usando unshift\r\n        }\r\n        this.renderizarHistorico();\r\n\r\n        this.exibirAviso(\"Consultando OpenCNPJ...\", TipoAviso.Info);\r\n\r\n        const resultados: ResultadoValidacaoApi[] = [];\r\n        for (const entrada of entradas) {\r\n            const resultado = await validarCnpjIndividual(entrada);\r\n            resultados.push(resultado);\r\n\r\n            const idx = this.historico.findIndex(\r\n                (h) => h.puro === resultado.puro && (h as ResultadoValidacaoApi).carregando === true,\r\n            );\r\n            if (idx >= 0) {\r\n                this.historico[idx] = resultado;\r\n            } else {\r\n                this.adicionarAoHistorico(resultado);\r\n            }\r\n        }\r\n\r\n        this.renderizarHistorico();\r\n        this.notificarResumoMassa(resultados);\r\n    }\r\n\r\n    /**\r\n     * @summary Adiciona um novo resultado ao histórico respeitando o limite máximo configurado.\r\n     */\r\n    private adicionarAoHistorico(resultado: ResultadoValidacaoApi): void {\r\n        this.historico.unshift(resultado);\r\n        if (this.historico.length > this.limiteHistorico) {\r\n            this.historico.length = this.limiteHistorico;\r\n        }\r\n\r\n        const contador = document.getElementById(\"contador-historico\") as HTMLSpanElement | null;\r\n        atualizarContadorHistorico(contador, this.historico.length, this.limiteHistorico, true);\r\n    }\r\n\r\n    /**\r\n     * @summary Renderiza a lista do histórico e associa os eventos de cópia e modal.\r\n     */\r\n    private renderizarHistorico(): void {\r\n        const { listaHistorico, controleMascara } = this.elementos;\r\n        listaHistorico.innerHTML = \"\";\r\n\r\n        const aplicarMascaraAtiva = controleMascara.checked;\r\n\r\n        this.historico.forEach((item) => {\r\n            const elemento = document.createElement(\"li\");\r\n            elemento.className =\r\n                \"flex items-center justify-between gap-3 px-3 py-1 transition-all duration-300 rounded-md cursor-pointer ring-2 ring-slate-100 dark:ring-slate-800 dark:shadow-2xl hover:ring-slate-300 dark:hover:ring-slate-900\";\r\n\r\n            const indicador = document.createElement(\"span\");\r\n            if (item.carregando) {\r\n                indicador.innerHTML = `\r\n                    <span class=\"relative flex size-2\">\r\n                    <span class=\"absolute inline-flex h-full w-full animate-ping rounded-full bg-blue-500 opacity-75\"></span>\r\n                    <span class=\"relative inline-flex size-2 rounded-full bg-blue-500 boder boder-blue-500\"></span>\r\n                    </span>\r\n                    `;\r\n                indicador.className = \"flex items-center gap-2 text-xs text-blue-600 dark:text-blue-400\";\r\n                indicador.setAttribute(\"title\", \"Consulta em andamento...\");\r\n            } else {\r\n                indicador.className = item.valido\r\n                    ? \"inline-block w-2 h-2 rounded-full border bg-teal-500 border-emerald-500 ring-2 ring-teal-500/40 shadow-sm shadow-current transition-all duration-300\"\r\n                    : \"inline-block w-2 h-2 rounded-full border bg-red-400 border-red-500 ring-2 ring-red-400/40 shadow-sm shadow-current transition-all duration-300\";\r\n                indicador.setAttribute(\"title\", item.valido ? \"Dados encontrados\" : item.mensagem);\r\n            }\r\n\r\n            const texto = document.createElement(\"span\");\r\n            texto.className = \"flex-1 text-sm font-semibold break-words text-slate-600 dark:text-zinc-50\";\r\n            const exibicao = aplicarMascaraAtiva ? aplicarMascara(item.puro) : item.puro;\r\n            texto.textContent = exibicao;\r\n            texto.setAttribute(\"title\", item.mensagem);\r\n\r\n            const containerEsquerdo = document.createElement(\"div\");\r\n            containerEsquerdo.className = \"flex items-center flex-1 gap-3\";\r\n            containerEsquerdo.append(indicador, texto);\r\n\r\n            containerEsquerdo.addEventListener(\"click\", () => {\r\n                if ((item as ResultadoValidacaoApi).carregando) {\r\n                    this.exibirAviso(\"Consulta em andamento...\", TipoAviso.Info);\r\n                    return;\r\n                }\r\n                this.exibirModalCnpj(item);\r\n            });\r\n\r\n            const botaoVisualizar = document.createElement(\"button\");\r\n            botaoVisualizar.className =\r\n                \"inline-flex items-center justify-center py-1 ml-1 text-xs transition-all ease-in-out rounded text-violet-500 dark:text-violet-500 dark:hover:text-violet-600 hover:text-violet-600 hover:scale-110\";\r\n            botaoVisualizar.setAttribute(\"title\", \"Ver mais detalhes\");\r\n            botaoVisualizar.setAttribute(\"aria-label\", \"Ver mais detalhes\");\r\n            botaoVisualizar.classList.add(\"opacity50\");\r\n            botaoVisualizar.innerHTML = `\r\n                            <svg class=\"w-6 h-6 text-slate-600 dark:text-slate-300 opacity-25\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                               <path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3.933 13.909A4.357 4.357 0 0 1 3 12c0-1 4-6 9-6m7.6 3.8A5.068 5.068 0 0 1 21 12c0 1-3 6-9 6-.314 0-.62-.014-.918-.04M5 19 19 5m-4 7a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\"/>\r\n                            </svg>`;\r\n\r\n            if (!item.carregando) {\r\n                botaoVisualizar.addEventListener(\"click\", (evento) => {\r\n                    evento.preventDefault();\r\n                    evento.stopPropagation();\r\n                    this.exibirModalCnpj(item);\r\n                });\r\n            } else {\r\n                botaoVisualizar.addEventListener(\"click\", (evento) => {\r\n                    evento.preventDefault();\r\n                    evento.stopPropagation();\r\n                    this.exibirAviso(\"Consulta em andamento...\", TipoAviso.Info);\r\n                });\r\n            }\r\n\r\n            if (item.valido) {\r\n                botaoVisualizar.classList.add(\"opacity50\");\r\n                botaoVisualizar.innerHTML = `<svg class=\"w-6 h-6\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\\\r\n                        <path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\" d=\"M2.25 12c2.15-4.2 6.16-7.5 9.75-7.5s7.6 3.3 9.75 7.5c-2.15 4.2-6.16 7.5-9.75 7.5s-7.6-3.3-9.75-7.5Z\" />\\\r\n                        <path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\" d=\"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\" />\\\r\n                    </svg>`;\r\n            }\r\n\r\n            elemento.append(containerEsquerdo, botaoVisualizar);\r\n            listaHistorico.appendChild(elemento);\r\n        });\r\n\r\n        listaHistorico.scrollTop = 0;\r\n    }\r\n\r\n    /**\r\n     * @summary Torna público o fluxo de exibição do modal para um CNPJ já presente no histórico.\r\n     * @param puroOuFormatado CNPJ em qualquer formato para localizar o item correspondente.\r\n     */\r\n    public abrirDetalhesPorCnpj(puroOuFormatado: string): void {\r\n        const puro = normalizarPuro(puroOuFormatado);\r\n        if (puro.length !== 14) {\r\n            return;\r\n        }\r\n\r\n        const encontrado = this.historico.find((item) => item.puro === puro);\r\n        if (!encontrado || encontrado.carregando) {\r\n            return;\r\n        }\r\n\r\n        this.exibirModalCnpj(encontrado);\r\n    }\r\n\r\n    /**\r\n     * @summary Exibe o modal com os dados completos retornados pela API.\r\n     */\r\n    private exibirModalCnpj(resultado: ResultadoValidacaoApi): void {\r\n        const { modalConteudo, modalTitulo, controleMascara } = this.elementos;\r\n        const exibicao = controleMascara.checked ? aplicarMascara(resultado.puro) : resultado.puro;\r\n        modalTitulo.textContent = exibicao;\r\n\r\n        if (!resultado.valido || !resultado.dados) {\r\n            modalConteudo.innerHTML = `\r\n                    <p class=\"text-sm text-slate-600 dark:text-slate-300\" >\r\n                        ${resultado.mensagem} ${resultado.mensagemComplementar ? resultado.mensagemComplementar : \"\"}\r\n                </p>\r\n                    `;\r\n        } else {\r\n            const dados = resultado.dados;\r\n            const endereco = dados.endereco\r\n                ? [\r\n                    dados.endereco.logradouro,\r\n                    dados.endereco.numero,\r\n                    dados.endereco.complemento,\r\n                    dados.endereco.bairro,\r\n                    dados.endereco.municipio,\r\n                    dados.endereco.uf,\r\n                    dados.endereco.cep ? `CEP: ${dados.endereco.cep} ` : undefined,\r\n                ]\r\n                    .filter(Boolean)\r\n                    .join(\", \")\r\n                : \"Não informado\";\r\n\r\n            const atividadePrincipal = dados.atividadePrincipal\r\n                ? [dados.atividadePrincipal.codigo, dados.atividadePrincipal.descricao]\r\n                    .filter(Boolean)\r\n                    .join(\" - \")\r\n                : \"Não informada\";\r\n\r\n            const atividadesSecundarias =\r\n                dados.atividadesSecundarias && dados.atividadesSecundarias.length > 0\r\n                    ? `<ul class=\"ml-2 list-disc list-inside font-semibold space-y-1\" > ${dados.atividadesSecundarias\r\n                        .map(\r\n                            (atividade) =>\r\n                                `<li>${escaparHtml([atividade.codigo, atividade.descricao].filter(Boolean).join(\" - \") || \"\")}</li>`,\r\n                        )\r\n                        .join(\"\")} </ul>`\r\n                    : '<p class=\"text-sm\">Nenhuma atividade secundária informada.</p>';\r\n\r\n            const socios =\r\n                dados.socios && dados.socios.length > 0\r\n                    ? `<ul class=\"ml-2 list-disc list-inside font-semibold space-y-1\">${dados.socios\r\n                        .map((socio) => {\r\n                            const linha = [socio.nome, socio.qualificacao, socio.pais]\r\n                                .filter((parte) => (parte ?? \"\").toString().trim().length > 0)\r\n                                .join(\" · \");\r\n                            const infoEntrada = socio.entrada\r\n                                ? ` <span class=\\\"text-xs text-slate-500 dark:text-slate-400\\\">(Desde ${escaparHtml(socio.entrada)})</span>`\r\n                                : \"\";\r\n                            return `<li>${escaparHtml(linha || \"Não informado\")}${infoEntrada}</li>`;\r\n                        })\r\n                        .join(\"\")}</ul>`\r\n                    : '<p class=\"text-sm\">Nenhum sócio informado.</p>';\r\n\r\n            const capital =\r\n                typeof dados.capitalSocial === \"number\"\r\n                    ? dados.capitalSocial.toLocaleString(\"pt-BR\", { style: \"currency\", currency: \"BRL\" })\r\n                    : \"Não informado\";\r\n\r\n            const jsonBruto = escaparHtml(JSON.stringify(dados.dadosOriginais, null, 2));\r\n\r\n            modalConteudo.innerHTML = `\r\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-slate-600 dark:text-slate-200\">\r\n                    <div>\r\n                        <h4 class=\"text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400\">Nome Empresarial</h4>\r\n                        <p class=\"font-semibold text-slate-700 dark:text-zinc-50\">${escaparHtml(dados.nomeEmpresarial ?? \"Não informado\")}</p>\r\n                    </div>\r\n                    <div>\r\n                        <h4 class=\"text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400\">Nome Fantasia</h4>\r\n                        <p class=\"font-semibold text-slate-700 dark:text-zinc-50\">${escaparHtml(dados.nomeFantasia ?? \"Não informado\")}</p>\r\n                    </div>\r\n                    <div>\r\n                        <h4 class=\"text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400\">Situação Cadastral</h4>\r\n                        <p class=\"font-semibold\">${escaparHtml(dados.situacaoCadastral ?? \"Não informada\")}</p>\r\n                    </div>\r\n                    <div>\r\n                        <h4 class=\"text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400\">Data da Situação</h4>\r\n                        <p class=\"font-semibold\">${escaparHtml(dados.dataSituacaoCadastral ?? \"Não informada\")}</p>\r\n                    </div>\r\n                    <div>\r\n                        <h4 class=\"text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400\">Natureza Jurídica</h4>\r\n                        <p class=\"font-semibold\">${escaparHtml(dados.naturezaJuridica ?? \"Não informada\")}</p>\r\n                    </div>\r\n                    <div>\r\n                        <h4 class=\"text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400\">Porte</h4>\r\n                        <p class=\"font-semibold\">${escaparHtml(dados.porte ?? \"Não informado\")}</p>\r\n                    </div>\r\n                    <div>\r\n                        <h4 class=\"text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400\">Capital Social</h4>\r\n                        <p class=\"font-semibold\">${escaparHtml(capital)}</p>\r\n                    </div>\r\n                    <div>\r\n                        <h4 class=\"text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400\">Contato</h4>\r\n                        <p class=\"font-semibold\">${escaparHtml(dados.telefone ?? \"Telefone não informado\")}</p>\r\n                        <p class=\"font-semibold\">${escaparHtml(dados.email ?? \"E-mail não informado\")}</p>\r\n                    </div>\r\n                    <div class=\"md:col-span-2\">\r\n                        <h4 class=\"text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400\">Endereço</h4>\r\n                        <p class=\"font-semibold\">${escaparHtml(endereco)}</p>\r\n                    </div>\r\n                    <div class=\"md:col-span-2\">\r\n                        <h4 class=\"text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400\">Atividade Principal</h4>\r\n                        <p class=\"font-semibold\">${escaparHtml(atividadePrincipal)}</p>\r\n                    </div>\r\n                    <div class=\"md:col-span-2\">\r\n                        <h4 class=\"text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400\">Atividades Secundárias</h4>\r\n                        ${atividadesSecundarias}\r\n                    </div>\r\n                    <div class=\"md:col-span-2\">\r\n                        <h4 class=\"text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400\">Quadro Societário</h4>\r\n                        ${socios}\r\n                    </div>\r\n                </div>\r\n                <div class=\"mt-6\">\r\n                    <details class=\"bg-zinc-100 dark:bg-slate-900/60 rounded-xl p-4 group\">\r\n                    <summary\r\n                        class=\"cursor-pointer text-sm font-semibold text-slate-600 dark:text-slate-200 flex items-center justify-between\"\r\n                    >\r\n                        <span class=\"flex items-center gap-2\">\r\n                        <svg\r\n                            class=\"w-4 h-4 text-slate-500 transition-transform duration-300 group-open:rotate-90\"\r\n                            xmlns=\"http://www.w3.org/2000/svg\"\r\n                            fill=\"none\"\r\n                            viewBox=\"0 0 24 24\"\r\n                            stroke=\"currentColor\"\r\n                            stroke-width=\"2\"\r\n                        >\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M9 5l7 7-7 7\" />\r\n                        </svg>\r\n                        Ver dados completos (JSON)\r\n                        </span>\r\n\r\n                        <button\r\n                        type=\"button\"\r\n                        class=\"flex items-center justify-center ml-2 rounded text-violet-500 dark:text-violet-400 hover:text-violet-600 dark:hover:text-violet-600 active:scale-90 transition-all duration-300 ease-in-out\"\r\n                        onclick=\"(function(botao){\r\n                            const pre = botao.closest('details').querySelector('pre');\r\n                            const texto = pre.textContent.trim();\r\n                            navigator.clipboard.writeText(texto)\r\n                            .then(() => document.dispatchEvent(new CustomEvent('jsonCopiado')))\r\n                            .catch(() => document.dispatchEvent(new CustomEvent('jsonNaoCopiado')))\r\n                        })(this)\"\r\n                        title=\"Copiar JSON\"\r\n                        aria-label=\"Copiar JSON\"\r\n                        >\r\n                        <svg class=\"w-7 h-7\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                            <path stroke-linejoin=\"round\" stroke-width=\"1.5\" d=\"M9 8v3a1 1 0 0 1-1 1H5m11 4h2a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1h-7a1 1 0 0 0-1 1v1m4 3v10a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1v-7.13a1 1 0 0 1 .24-.65L7.7 8.35A1 1 0 0 1 8.46 8H13a1 1 0 0 1 1 1Z\"/>\r\n                        </svg>\r\n                        </button>\r\n                    </summary>\r\n\r\n                    <pre\r\n                        class=\"mt-3 max-h-64 overflow-auto scroll-personalizado text-xs bg-slate-800 dark:bg-slate-800 text-teal-500 rounded-lg p-3\"\r\n                    >${jsonBruto}</pre>\r\n                    </details>\r\n\r\n                </div>\r\n            `;\r\n        }\r\n\r\n        this.abrirModal();\r\n    }\r\n\r\n    /**\r\n     * @summary Abre o modal de detalhes aplicando classes de transição.\r\n     */\r\n    private abrirModal(): void {\r\n        const { modalOverlay, modalCaixa, botaoFecharModal } = this.elementos;\r\n        this.elementoFocoAnterior =\r\n            document.activeElement instanceof HTMLElement ? document.activeElement : null;\r\n\r\n        modalOverlay.classList.remove(\"hidden\");\r\n        requestAnimationFrame(() => {\r\n            modalOverlay.classList.remove(\"opacity-0\", \"pointer-events-none\");\r\n            modalCaixa.classList.remove(\"scale-95\");\r\n        });\r\n\r\n        document.addEventListener(\"keydown\", this.escutarTeclaEscape);\r\n        window.setTimeout(() => {\r\n            botaoFecharModal.focus();\r\n        }, 150);\r\n    }\r\n\r\n\r\n    /**\r\n     * @summary Fecha o modal e restaura o foco anterior.\r\n     */\r\n    private fecharModal(): void {\r\n        const { modalOverlay, modalCaixa } = this.elementos;\r\n        modalOverlay.classList.add(\"opacity-0\", \"pointer-events-none\");\r\n        modalCaixa.classList.add(\"scale-95\");\r\n        document.removeEventListener(\"keydown\", this.escutarTeclaEscape);\r\n\r\n        window.setTimeout(() => {\r\n            modalOverlay.classList.add(\"hidden\");\r\n            if (this.elementoFocoAnterior) {\r\n                this.elementoFocoAnterior.focus();\r\n            }\r\n        }, 250);\r\n    }\r\n\r\n    /**\r\n     * @summary Exibe um aviso referente ao resultado individual da consulta.\r\n     */\r\n    private notificarResultado(resultado: ResultadoValidacaoApi): void {\r\n        const mascaraAtiva = this.elementos.controleMascara.checked;\r\n        const exibicao = mascaraAtiva ? aplicarMascara(resultado.puro) : resultado.puro;\r\n        const tipo = this.obterTipoAviso(resultado);\r\n\r\n        const mensagem = resultado.valido\r\n            ? `Dados do CNPJ ${exibicao} encontrados com sucesso`\r\n            : resultado.mensagem;\r\n\r\n        this.exibirAviso(mensagem, tipo);\r\n        const eventoConclusao = new CustomEvent<ResultadoValidacaoApi>(\"consultaCnpjConcluida\", {\r\n            detail: resultado,\r\n        });\r\n        document.dispatchEvent(eventoConclusao);\r\n    }\r\n\r\n    /**\r\n     * @summary Exibe um resumo após a consulta em massa.\r\n     */\r\n    private notificarResumoMassa(resultados: ResultadoValidacaoApi[]): void {\r\n        const validos = resultados.filter((item) => item.valido).length;\r\n        const total = resultados.length;\r\n        const invalidos = total - validos;\r\n\r\n        if (validos === total && total > 0) {\r\n            this.exibirAviso(`Todos os ${total} CNPJs retornaram dados no OpenCNPJ`, TipoAviso.Sucesso);\r\n            return;\r\n        }\r\n\r\n        if (validos > 0) {\r\n            this.exibirAviso(\r\n                `${validos} de ${total} CNPJs retornaram dados. ${invalidos} não foram localizados ou apresentaram erro`,\r\n                TipoAviso.InfoAlternativo,\r\n            );\r\n            return;\r\n        }\r\n\r\n        this.exibirAviso(\"Nenhum dos CNPJs informados foi localizado no OpenCNPJ\", TipoAviso.Erro);\r\n    }\r\n\r\n    /**\r\n     * @summary Determina o tipo de aviso adequado para o resultado informado.\r\n     */\r\n    private obterTipoAviso(resultado: ResultadoValidacaoApi): TipoAviso {\r\n        if (resultado.valido) {\r\n            return TipoAviso.Sucesso;\r\n        }\r\n\r\n        if (resultado.statusHttp === 404) {\r\n            return TipoAviso.Info;\r\n        }\r\n\r\n        if (resultado.statusHttp === 429) {\r\n            return TipoAviso.InfoAlternativo;\r\n        }\r\n\r\n        return TipoAviso.Erro;\r\n    }\r\n\r\n    /**\r\n     * @summary Configura o campo de consulta única (normalização e máscara).\r\n     */\r\n    private configurarEntradaCnpj(): void {\r\n        const { campoUnico, controleMascara } = this.elementos;\r\n\r\n        const aplicarMascaraLocal = (valor: string): string =>\r\n            aplicarMascaraProgressiva(normalizarPuro(valor));\r\n\r\n        const atualizarEntrada = (): void => {\r\n            if (this.formatando.unico) return;\r\n            this.formatando.unico = true;\r\n\r\n            let bruto = campoUnico.value;\r\n            bruto = normalizarPuro(bruto);\r\n\r\n            if (bruto.length > 14) {\r\n                bruto = bruto.slice(0, 14);\r\n            }\r\n\r\n            campoUnico.value = controleMascara.checked ? aplicarMascaraLocal(bruto) : bruto;\r\n            this.atualizarEstadoBotaoValidarUnico();\r\n            this.formatando.unico = false;\r\n        };\r\n\r\n        campoUnico.addEventListener(\"input\", atualizarEntrada);\r\n        campoUnico.addEventListener(\"paste\", (evento) => {\r\n            evento.preventDefault();\r\n            const texto = (evento.clipboardData?.getData(\"text\") ?? \"\").trim();\r\n            campoUnico.value = texto;\r\n            atualizarEntrada();\r\n        });\r\n\r\n        controleMascara.addEventListener(\"change\", atualizarEntrada);\r\n    }\r\n\r\n    /**\r\n     * @summary Atualiza o estado do botão de validação unitária conforme o campo preenchido.\r\n     */\r\n    private atualizarEstadoBotaoValidarUnico(): void {\r\n        const { campoUnico, botaoValidarUnico } = this.elementos;\r\n        const puro = normalizarPuro(campoUnico.value);\r\n        const habilitar = puro.length >= 14;\r\n        botaoValidarUnico.disabled = !habilitar;\r\n        botaoValidarUnico.classList.toggle(\"opacity-60\", !habilitar);\r\n        botaoValidarUnico.classList.toggle(\"cursor-not-allowed\", !habilitar);\r\n    }\r\n\r\n    /**\r\n     * @summary Atualiza o estado do botão de validação em massa conforme a quantidade de itens.\r\n     */\r\n    private atualizarEstadoBotaoValidarMassa(total: number): void {\r\n        const { botaoValidarMassa } = this.elementos;\r\n        const habilitar = total > 0;\r\n        botaoValidarMassa.disabled = !habilitar;\r\n        botaoValidarMassa.classList.toggle(\"opacity-60\", !habilitar);\r\n        botaoValidarMassa.classList.toggle(\"cursor-not-allowed\", !habilitar);\r\n    }\r\n\r\n    /**\r\n     * @summary Configura o campo de validação em massa, formatando e limitando itens.\r\n     */\r\n    private configurarEntradaCNPJMassa(): void {\r\n        const { campoMassa, controleMascara } = this.elementos;\r\n        const LIMITE = 100;\r\n\r\n        const formatarLista = (texto: string, manterSeparadorFinal: boolean): string => {\r\n            const partesBrutas = texto.split(/[;,]/);\r\n            const formatadas: string[] = [];\r\n            const vistos = new Set<string>();\r\n\r\n            for (const parte of partesBrutas) {\r\n                const p = parte.trim();\r\n                if (!p) continue;\r\n\r\n                const puroParte = normalizarPuro(p);\r\n                const f = controleMascara.checked ? aplicarMascaraProgressiva(puroParte) : puroParte;\r\n                const chave = puroParte;\r\n                if (chave && !vistos.has(chave)) {\r\n                    vistos.add(chave);\r\n                    formatadas.push(f);\r\n                    if (formatadas.length >= LIMITE) break;\r\n                }\r\n            }\r\n\r\n            let saida = formatadas.join(\", \");\r\n            if (manterSeparadorFinal && formatadas.length < LIMITE) {\r\n                if (saida.length > 0) saida += \", \";\r\n            } else {\r\n                saida = saida.replace(/[,\\s]+$/, \"\");\r\n            }\r\n            return saida;\r\n        };\r\n\r\n        const reformatar = (textoOrig: string): void => {\r\n            if (this.formatando.massa) return;\r\n            this.formatando.massa = true;\r\n\r\n            const temDelimitadorFinal = /[;,]\\s*$/.test(textoOrig) || /\\n\\s*$/.test(textoOrig);\r\n            const novo = formatarLista(textoOrig, temDelimitadorFinal);\r\n            if (novo.length > 0 && novo !== campoMassa.value) {\r\n                campoMassa.value = novo;\r\n            } else if (novo.length === 0 && campoMassa.value !== \"\") {\r\n                campoMassa.value = \"\";\r\n            }\r\n\r\n            const total = novo\r\n                .split(\",\")\r\n                .map((parte) => parte.trim())\r\n                .filter(Boolean).length;\r\n            if (total >= LIMITE && /[;,]|\\n/.test(textoOrig)) {\r\n                exibirAviso(\r\n                    this.elementos.areaAviso,\r\n                    `Limite de ${LIMITE} CNPJs atingido. Os extras foram ignorados`,\r\n                    TipoAviso.Info,\r\n                );\r\n            }\r\n\r\n            this.atualizarEstadoBotaoValidarMassa(total);\r\n            this.formatando.massa = false;\r\n        };\r\n\r\n        campoMassa.addEventListener(\"input\", () => {\r\n            const valorAtual = campoMassa.value;\r\n            const terminouItem = /[;,]|\\n/.test(valorAtual.slice(-1));\r\n            if (terminouItem) reformatar(valorAtual);\r\n        });\r\n\r\n        campoMassa.addEventListener(\"paste\", (evento) => {\r\n            evento.preventDefault();\r\n            const texto = (evento.clipboardData?.getData(\"text\") ?? \"\").trim();\r\n\r\n            if (!texto) {\r\n                exibirAviso(\r\n                    this.elementos.areaAviso,\r\n                    \"Nenhum conteúdo disponível para colar\",\r\n                    TipoAviso.Info,\r\n                );\r\n                return;\r\n            }\r\n\r\n            const textoNormalizado = texto\r\n                .replace(/[\\n\\r]+/g, \",\")\r\n                .replace(/\\s+/g, \" \")\r\n                .replace(/,+/g, \",\");\r\n\r\n            campoMassa.value = textoNormalizado;\r\n            this.elementos.campoMassa.dispatchEvent(new Event(\"input\"));\r\n\r\n            exibirAviso(\r\n                this.elementos.areaAviso,\r\n                \"Conteúdo colado no modo em massa\",\r\n                TipoAviso.InfoAlternativo,\r\n            );\r\n        });\r\n\r\n        controleMascara.addEventListener(\"change\", () => reformatar(campoMassa.value));\r\n    }\r\n\r\n    /**\r\n     * @summary Define o placeholder do campo único conforme o estado da máscara.\r\n     */\r\n    private configurarPlaceholderMascara(): void {\r\n        const { controleMascara, campoUnico } = this.elementos;\r\n\r\n        const atualizarPlaceholder = (): void => {\r\n            campoUnico.placeholder = controleMascara.checked ? \"00.ABC.000/ABCD-00\" : \"00ABC000ABCD00\";\r\n        };\r\n\r\n        atualizarPlaceholder();\r\n        controleMascara.addEventListener(\"change\", atualizarPlaceholder);\r\n    }\r\n\r\n    /**\r\n     * @summary Anima a altura dos cards ao alternar entre os modos de validação.\r\n     */\r\n    private animarAlturaSincronizada(mutarDOM: () => void, duracaoMs = 400): void {\r\n        const cardValidacao = document.getElementById(\"card-validacao\") as HTMLDivElement | null;\r\n        const painelValidacao = document.getElementById(\"painel-validacao\") as HTMLDivElement | null;\r\n        const toggleMassa = document.getElementById(\"toggle-massa\") as HTMLInputElement | null;\r\n\r\n        if (!cardValidacao || !painelValidacao) {\r\n            mutarDOM();\r\n            return;\r\n        }\r\n\r\n        const startA = cardValidacao.offsetHeight;\r\n        const startB = painelValidacao.offsetHeight;\r\n        const trans = `height ${duracaoMs}ms ease-in-out`;\r\n\r\n        cardValidacao.style.height = `${startA}px`;\r\n        painelValidacao.style.height = `${startB}px`;\r\n        cardValidacao.style.transition = trans;\r\n        painelValidacao.style.transition = trans;\r\n        cardValidacao.style.overflow = \"hidden\";\r\n        painelValidacao.style.overflow = \"hidden\";\r\n\r\n        mutarDOM();\r\n\r\n        requestAnimationFrame(() => {\r\n            cardValidacao.style.height = \"auto\";\r\n            const endA = cardValidacao.offsetHeight;\r\n\r\n            cardValidacao.style.height = `${startA}px`;\r\n            void cardValidacao.offsetHeight;\r\n            cardValidacao.style.height = `${endA}px`;\r\n\r\n            painelValidacao.style.height = `${startB}px`;\r\n            void painelValidacao.offsetHeight;\r\n            painelValidacao.style.height = `${endA}px`;\r\n\r\n            const limparDepois = () => {\r\n                cardValidacao.style.transition = \"\";\r\n                painelValidacao.style.transition = \"\";\r\n                cardValidacao.style.overflow = \"\";\r\n                painelValidacao.style.overflow = \"\";\r\n\r\n                if (toggleMassa && !toggleMassa.checked) {\r\n                    cardValidacao.style.height = \"\";\r\n                    painelValidacao.style.height = \"\";\r\n                } else {\r\n                    cardValidacao.style.height = `${endA}px`;\r\n                    painelValidacao.style.height = `${endA}px`;\r\n                }\r\n            };\r\n\r\n            cardValidacao.addEventListener(\"transitionend\", limparDepois, { once: true });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * @summary Exibe aviso utilizando as classes locais para garantir compatibilidade.\r\n     */\r\n    private exibirAviso(mensagem: string, tipo: TipoAviso): void {\r\n        exibirAviso(this.elementos.areaAviso, mensagem, tipo);\r\n    }\r\n}\r\n\r\nfunction obterElementoObrigatorio<T extends HTMLElement>(id: string): T {\r\n    const elemento = document.getElementById(id);\r\n    if (!elemento) {\r\n        throw new Error(`Elemento com id \"${id}\" não encontrado.`);\r\n    }\r\n    return elemento as T;\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n    if (!document.getElementById(\"aviso-cookies\")) {\r\n        document.body.insertAdjacentHTML(\"beforeend\", htmlCookies);\r\n    }\r\n    inicializarAvisoDeCookies();\r\n\r\n    const elementos: ElementosValidador = {\r\n        campoUnico: obterElementoObrigatorio<HTMLInputElement>(\"campo-unico\"),\r\n        campoMassa: obterElementoObrigatorio<HTMLTextAreaElement>(\"campo-massa\"),\r\n        controleMascara: obterElementoObrigatorio<HTMLInputElement>(\"toggle-mascara-validator\"),\r\n        controleMassa: obterElementoObrigatorio<HTMLInputElement>(\"toggle-massa\"),\r\n        botaoValidarUnico: obterElementoObrigatorio<HTMLButtonElement>(\"botao-validar\"),\r\n        botaoValidarMassa: obterElementoObrigatorio<HTMLButtonElement>(\"botao-validar-massa\"),\r\n        listaHistorico: obterElementoObrigatorio<HTMLUListElement>(\"lista-historico-validacao\"),\r\n        areaAviso: obterElementoObrigatorio<HTMLDivElement>(\"toast\"),\r\n        botaoColar: obterElementoObrigatorio<HTMLButtonElement>(\"botao-colar\"),\r\n        modalOverlay: obterElementoObrigatorio<HTMLDivElement>(\"modal-dados-cnpj\"),\r\n        modalConteudo: obterElementoObrigatorio<HTMLDivElement>(\"modal-conteudo-cnpj\"),\r\n        modalTitulo: obterElementoObrigatorio<HTMLHeadingElement>(\"modal-titulo-cnpj\"),\r\n        botaoFecharModal: obterElementoObrigatorio<HTMLButtonElement>(\"botao-fechar-modal-cnpj\"),\r\n        modalCaixa: obterElementoObrigatorio<HTMLDivElement>(\"modal-caixa-cnpj\"),\r\n    };\r\n\r\n    const validador = new ValidadorCnpjApi(elementos);\r\n\r\n    document.addEventListener(\"jsonCopiado\", () => {\r\n        exibirAviso(elementos.areaAviso, \"JSON copiado!\", TipoAviso.InfoAlternativo);\r\n    });\r\n\r\n    document.addEventListener(\"jsonNaoCopiado \", () => {\r\n        exibirAviso(elementos.areaAviso, \"Não foi possível copiar o JSON!\", TipoAviso.Erro);\r\n    });\r\n\r\n    document.addEventListener(\"abrirDetalhesCnpj\", (evento) => {\r\n        const detalhe = (evento as CustomEvent<{ puro?: string }>).detail;\r\n        if (!detalhe?.puro) {\r\n            return;\r\n        }\r\n\r\n        validador.abrirDetalhesPorCnpj(detalhe.puro);\r\n    });\r\n\r\n    let cnpjAutomatico: string | null = null;\r\n\r\n    document.addEventListener(\"consultaCnpjConcluida\", (evento) => {\r\n        if (!cnpjAutomatico) {\r\n            return;\r\n        }\r\n\r\n        const detalhe = (evento as CustomEvent<ResultadoValidacaoApi>).detail;\r\n        if (!detalhe) {\r\n            return;\r\n        }\r\n\r\n        if (normalizarPuro(detalhe.puro) !== cnpjAutomatico) {\r\n            return;\r\n        }\r\n\r\n        setTimeout(() => {\r\n            document.dispatchEvent(new CustomEvent(\"abrirDetalhesCnpj\", { detail: { puro: detalhe.puro } }));\r\n            cnpjAutomatico = null;\r\n        }, 200);\r\n    });\r\n\r\n    void (async () => {\r\n        const parametros = new URLSearchParams(window.location.search);\r\n        const parametroCnpj = parametros.get(\"\");\r\n        if (!parametroCnpj) {\r\n            return;\r\n        }\r\n\r\n        const puro = normalizarPuro(parametroCnpj);\r\n        if (puro.length !== 14) {\r\n            return;\r\n        }\r\n\r\n        const { validarCnpjPuro } = await import(\"./algoritmo-cnpj.js\");\r\n        if (!validarCnpjPuro(puro)) {\r\n            return;\r\n        }\r\n\r\n        const usarMascara = elementos.controleMascara.checked;\r\n        elementos.campoUnico.value = usarMascara ? aplicarMascaraProgressiva(puro) : puro;\r\n        elementos.campoUnico.dispatchEvent(new Event(\"input\", { bubbles: true }));\r\n\r\n        cnpjAutomatico = puro;\r\n        elementos.botaoValidarUnico.click();\r\n    })();\r\n});\r\n\r\nexport { };\r\n"]}