{"version":3,"file":"minificar-css.js","sourceRoot":"","sources":["../../../src/processos/minificar-css.ts"],"names":[],"mappings":"AAAA;;GAEG;AAEH,OAAO,EAAE,MAAM,IAAI,CAAA;AACnB,OAAO,IAAI,MAAM,MAAM,CAAA;AAEvB,MAAM,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,SAAS,EAAE,mBAAmB,CAAC,CAAA;AACxF,MAAM,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAA;AAClE,MAAM,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,uBAAuB,CAAC,CAAA;AAErE,SAAS,YAAY,CAAC,QAAgB;IAClC,OAAO,QAAQ;SACV,OAAO,CAAC,mBAAmB,EAAE,EAAE,CAAC;SAChC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC;SACpB,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAC;SACjC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC;SACnB,IAAI,EAAE,CAAA;AAEf,CAAC;AAED;;GAEG;AACH,SAAS,QAAQ;IACb,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,aAAa,CAAC,EAAE,CAAC;QAChC,OAAO,CAAC,KAAK,CAAC,2CAA2C,aAAa,EAAE,CAAC,CAAA;QACzE,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;IACnB,CAAC;IAED,MAAM,GAAG,GAAG,EAAE,CAAC,YAAY,CAAC,aAAa,EAAE,MAAM,CAAC,CAAA;IAClD,MAAM,aAAa,GAAG,YAAY,CAAC,GAAG,CAAC,CAAA;IAEvC,EAAE,CAAC,SAAS,CAAC,YAAY,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAA;IAC/C,EAAE,CAAC,aAAa,CAAC,YAAY,EAAE,aAAa,EAAE,MAAM,CAAC,CAAA;IAErD,OAAO,CAAC,GAAG,CAAC,2BAA2B,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,YAAY,CAAC,KAAK,aAAa,CAAC,MAAM,SAAS,CAAC,CAAA;AACxH,CAAC;AAED,QAAQ,EAAE,CAAA","sourcesContent":["/**\r\n * @summary Minifica o arquivo controle-tema.css e gera a versão compacta em /dist/assets.\r\n */\r\n\r\nimport fs from 'fs'\r\nimport path from 'path'\r\n\r\nconst caminhoOrigem = path.resolve(process.cwd(), 'src', 'estilos', 'controle-tema.css')\r\nconst pastaDestino = path.resolve(process.cwd(), 'dist', 'assets')\r\nconst caminhoSaida = path.join(pastaDestino, 'controle-tema.min.css')\r\n\r\nfunction minificarCSS(conteudo: string): string {\r\n    return conteudo\r\n        .replace(/\\/\\*[\\s\\S]*?\\*\\//g, '')\r\n        .replace(/\\s+/g, ' ')\r\n        .replace(/\\s*([{}:;,])\\s*/g, '$1')\r\n        .replace(/;}/g, '}')\r\n        .trim()\r\n\r\n}\r\n\r\n/**\r\n * @summary Executa o processo de minificação e grava o arquivo resultante.\r\n */\r\nfunction executar(): void {\r\n    if (!fs.existsSync(caminhoOrigem)) {\r\n        console.error(`[minificar-css] Arquivo não encontrado: ${caminhoOrigem}`)\r\n        process.exit(1)\r\n    }\r\n\r\n    const css = fs.readFileSync(caminhoOrigem, 'utf8')\r\n    const cssMinificado = minificarCSS(css)\r\n\r\n    fs.mkdirSync(pastaDestino, { recursive: true })\r\n    fs.writeFileSync(caminhoSaida, cssMinificado, 'utf8')\r\n\r\n    console.log(`[minificar-css] Gerado: ${path.relative(process.cwd(), caminhoSaida)} (${cssMinificado.length} bytes)`)\r\n}\r\n\r\nexecutar()"]}